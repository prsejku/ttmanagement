<div *ngIf="authService.isLoggedIn && !loading">
  <span>
    <button mat-icon-button [matMenuTriggerFor]="project">PJ</button>
    <mat-menu #project="matMenu">
      <button mat-menu-item *ngIf="!taskService.projects" disabled><mat-spinner [diameter]="40"></mat-spinner></button>
      <button mat-menu-item *ngFor="let project of taskService.projects" (click)="curProj=project">
        {{project.NAME}}
      </button>
    </mat-menu>
    <button mat-icon-button [matMenuTriggerFor]="workPack" [disabled]="!curProj">WP</button>
    <mat-menu #workPack="matMenu">
      <button mat-menu-item *ngFor="let workPack of taskService.workPacks" (click)="curWP=workPack">
        {{workPack.NAME}}
      </button>
    </mat-menu>
    <button mat-icon-button [matMenuTriggerFor]="task" [disabled]="!curWP">T</button>
    <mat-menu #task="matMenu">
      <button mat-menu-item *ngFor="let task of taskService.tasks" (click)="curTask=task">
        {{task.TASK_NR}} | {{task.NAME}}
      </button>
    </mat-menu>
  </span>
  <label>
    <input type="text" placeholder="What are you going to do?" [(ngModel)]="desc" style="width:170px"/>
  </label>
  <span>{{displayedTime}}</span>
  <span><button mat-mini-fab
                (click)="onSelect()"
                *ngIf="!running"
                [disabled]="!curProj||!curWP||!curTask">
    <mat-icon>play_arrow</mat-icon></button></span>
  <span><button mat-mini-fab
                (click)="onSelect()"
                *ngIf="running">
    <mat-icon>pause</mat-icon></button></span>
  <span><button mat-mini-fab
                (click)="reset(input)"
                [disabled]="displayedTime=='0:00:00' || running">
    <mat-icon>refresh</mat-icon>
  </button></span>
</div>
<mat-spinner *ngIf="loading" class="spinner"></mat-spinner>